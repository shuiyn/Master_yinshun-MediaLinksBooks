<!DOCTYPE html>
<html>
<head>
	<title>印順導師著作聞思</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width">
	<link rel="stylesheet" type="text/css" href="../css/common.css" />
	<link rel="stylesheet" type="text/css" href="../css/menutree.css" />

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

	<script src="../data/auxData_List.js"></script>
	<script src="../data/auxJSON_List.js"></script>
	<script src="../data/pnj_style.js"></script>
	<script src="../data/pnj_book.js"></script>
	<script src="../data/ffgl_book.js"></script>
	
	<script src="../data/base_List.js"></script>
	<script src="../data/lecture_List.js"></script>
	<script src="../data/lesson_List.js"></script>
	<script src="../data/cuePoint_List.js"></script>
	
	<script src="../js/search.js"></script>
<!--	<script src="../js/audio.js"></script>-->
	<script src="../js/menuTree.js"></script>
	<script src="../js/mysBooks.js"></script>
	
	
	<script>
	
	var theBook = null;
	var theAud = null;
	
	var onLoad = function() {
		var q = JSON.parse(decodeURIComponent(location.search).substr(6));

//		document.getElementById("try").innerHTML = screen.width + "*" + screen.height + ", av= " + screen.availWidth + "*" + screen.availHeight + ", " + hostImgURL();//location.host;//.replace(location.hostname, "");
		
//		document.getElementById("try").innerHTML = "kk" + location.pathname;// JSON.stringify(q);
		document.getElementById("tit_booklecName").innerHTML = q.bkName + "：" + q.lecName;

				
		theAud = new mysAud();
		theBook = new mysBooks(q.bkId, q.lecId); //localStorage.getItem("mys_BookId"));
		theBook.mbIsPC = q.isPC;
		theBook.mbIs7inch = q.is7inch;

		theBook.fillBook();
		
		if (theBook.mbIsPC) {
			if (window.addEventListener) {              
			    window.addEventListener("resize", rstPosition);
			} else if (window.attachEvent) {                 
			    window.attachEvent("onresize", rstPosition);
			}
		}
		
		rstPosition();
	}

	</script>
</head>

<body onload="onLoad()">
<!--<span id="tit_booklecName"></span>-->
<span id="tit_booklecName" style="font-size:medium;font-family:標楷體;font-weight:bold;"></span><br/>
<span id="try" style="width:80%;"></span>

<!--期別、著文、講義切換-->
<table id="tblShowPhrase" style="visibility:visible;background-color:lightGray;margin-top:3px;"><tr>
	<td><a id="goSite" href="" target="_blank">到</a></td>
	<td>
	<span id="dvPhase"><select><option>第 1 期 104 年</option><select><span>
	</td>
	<td id="tdPhrase">
<button id="toggleHandout" onclick="toggleHandout()">期別</button>
	</td>
</tr></table>

<!--講義-->
	<table id="tblShowHandout" style="visibility:collapse;background-color:lightgreen;">
		<tr>
		<td><a id="openHandout" href="" target="_blank">到</a></td>
		<td id="pnlHandout"></td>
		<td id="tdHandout"></td>
		</tr>
	</table>


<div id="dvAudioLesson" style="width:100%; border:1px solid black">
<table id="tblAudio"><tr>
<td>
  <audio id="myAudio" style="margin:0;padding:0;" controls>
  <source src="" type="audio/mpeg">
  </audio>
</td>
<td id="dvLesson" style="vertical-align: middle;">
  <select><option>104 年</option><select>
</td>

</tr></table> <!--dvAudio Lesson-->



<!--Audio 面板操作區-->

<div style="padding:3px;background-color:#EEFFFF;">
<!--<button id="forTest" onclick="copyDeviceUA(this.value);">D</button>-->
<button onclick="theAud.showCue()">cue</button>

<button onclick="theAud.forbakward(1);">後退</button>
<button onclick="theAud.forbakward(0);">前進</button>設
<button onclick="theAud.cusTime(0);">終點</button>
<button onclick="theAud.cusTime(1);">起點</button>
</div>

<div style="width:100%;padding:3px;background-color:#F8EACE;">
<table id="tblToggleContHand" style="border:0pdx;"><tr>
<td><button id="toggleStartLen" onclick="toggleStartLen()">於</button></td>

<td>

<table id="tblPlayStart" style="visibility:visible;visible:0pdx;">
<tr><td>
<input id="palyStartH" type="number" value="0"  min="0" max="23" style="width:2em;"></input>時
<input id="palyStartM" type="number" value="0" min="0" max="59" style="width:2.5em;"></input>分
<input id="palyStartS" type="number" value="0" min="0" max="59" style="width:2.5em;"></input>秒
</td></tr>
</table>

<table id="tblPlayLen" style="visibility:collapse;border:0pdx;">
<tr><td>
<input id="playLengthH" type="number" value="0" min="0" max="23" style="width:2em;"></input>時
<input id="playLengthM" type="number" value="0" min="0" max="59" style="width:2.5em;"></input>分
<input id="playLengthS" type="number" value="0" min="0" max="59" style="width:2.5em;"></input>秒
</td></tr>
</table>

</td>

<td><button onclick="theAud.cusPlay();">播放</button></td>

<td>
　<button id="toggleAux" onclick="toggleAux()" >原文</button>
<button onclick="theBook.showPageTocSelect()">頁目</button>
</td>

</tr>
</table>
</div>



</div> <!--id="dvAudio"-->

<!--文章顯示區-->
<div id="dvContHand" style="position:relative;">
<table id="tblShowYin" width="100%" border="0" style="visibility:visible;position:absolute; top:0;">
<tr><td>
<div id="content"  onscroll="theBook.TryScroll(event);" style="visibility:visible;letter-spacing:1.5pt;overflow:auto;padding:5px;line-height:1.8;width:99%;height:10em; border-width:0 1px 1px 1px;border-style:solid;font-size:medium;"></div>
</td></tr></table>

<table id="tblShowAux" width="100%" border="0" style="visibility:collapse;position:absolute; top:0;">
<tr><td>
<div id="auxPanel" style="visibility:hidden;letter-spacing:1.5pt;overflow-Y:scroll;padding:5px;line-height:1.4;width:99%;height:10em; border-width:0 1px 1px 1px;border-style:solid;font-size:medium;"></div>
</td></tr></table>
</div>

<dialog id="dlgCue">
<label>法師授課主題時點表</label>
<br/>
<select id="cueList" style="width:16em;">
</select>

<br/>
<br/>
<br/>
<div style="text-align:right;">
	<input type="checkbox" id="bookTo" checked>書本定位</input>　
	<button onclick="theAud.closeCue()">取消</button>
	<button onclick="theAud.cuePointPlay()">播放</button>
</div>
</dialog>

<dialog id="dlgPagToc" style="height:70%;width:50%;">
<button onclick="document.all.dlgPagToc.close()" style="position:absolute;top:1px;left:1px;margin:0;padding:2px;">✖</button>
<br/>
<span>頁次選單</span><br/>
<select style="width:6em;" id="pageList" onchange="theBook.onPageListChange(this)"></select><br/><br/>
<span>目錄選單</span>
<hr/>
<div style="height:21em;width:100%;padding:0;margin:0;padding:0">
<ul id="mnuRoot" class="menutree" onclick="onMenuClicked(event)" style="height:16em;overflow-y:scroll;margin-left:0;margin-top:0;padding-left:20px;padding-top:0"></ul>
</div>

</dialog>
</body>
</html>
