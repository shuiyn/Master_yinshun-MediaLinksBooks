<!DOCTYPE html>
<html>
<head>
	<title>印順導師著作聞思</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width">
	<link rel="stylesheet" type="text/css" href="../css/common.css" />
	<link rel="stylesheet" type="text/css" href="../css/menutree.css" />

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

	<script src="../data/auxData_List.js"></script>
	<script src="../data/auxJSON_List.js"></script>
	<script src="../data/pnj_style.js"></script>
	<script src="../data/pnj_book.js"></script>
	<script src="../data/ffgl_book.js"></script>
	
	<script src="../data/base_List.js"></script>
	<script src="../data/lecture_List.js"></script>
	<script src="../data/lesson_List.js"></script>
	<script src="../data/cuePoint_List.js"></script>
	
	<script src="../js/search.js"></script>
<!--	<script src="../js/audio.js"></script>-->
	<script src="../js/menuTree.js"></script>
	<script src="../js/mysBooks.js"></script>
	
	
	<script>
	
	var theBook = null;
	var theAud = null;
	
	var onLoad = function() {
		var q = JSON.parse(decodeURIComponent(location.search).substr(6));

//		document.getElementById("try").innerHTML = screen.width + "*" + screen.height + ", av= " + screen.availWidth + "*" + screen.availHeight + ", " + hostImgURL();//location.host;//.replace(location.hostname, "");
		
//		document.getElementById("try").innerHTML = "kk" + location.pathname;// JSON.stringify(q);
		document.getElementById("tit_booklecName").innerHTML = q.bkName + "：" + q.lecName;

				
		theAud = new mysAud();
		theBook = new mysBooks(q.bkId, q.lecId); //localStorage.getItem("mys_BookId"));
		theBook.mbIsPC = q.isPC;
		theBook.mbIs7inch = q.is7inch;

		theBook.fillBook();
		rstPosition();
	}

	</script>
</head>

<body onload="onLoad()" style="overflow:hidden;">
<!--<span id="tit_booklecName"></span>-->
<span id="tit_booklecName" style="font-size:85%;font-family:標楷體;font-weight:bold;"></span><br/>
<span id="try" style="width:80%;"></span>

<!--期別、著文、講義切換-->
<table id="tblShowPhrase" style="visibility:visible;background-color:lightGray;margin-top:3px;"><tr>
	<td><a id="goSite" href="" target="_blank">到</a></td>
	<td>
	<span id="dvPhase"><select><option>第 1 期 104 年</option><select><span>
	</td>
	<td id="tdPhrase">
<button id="toggleHandout" onclick="toggleHandout()">期別</button>
	</td>
	<td id="dvLesson" style="vertical-align: middle;">
		<select><option>104 年</option><select>
	</td>
</tr></table>

<!--講義-->
	<table id="tblShowHandout" style="visibility:collapse;background-color:lightgreen;">
		<tr>
		<td><a id="openHandout" href="" target="_blank">到</a></td>
		<td id="pnlHandout"></td>
		<td id="tdHandout"></td>
		</tr>
	</table>


<div id="dvAudioLesson" style="width:100%; border:1px solid black">
  <audio id="myAudio" style="margin:0;padding:1px;width:99%" controls>
  <source src="" type="audio/mpeg">
  </audio>


<!--Audio 面板操作區 width="99%" -->
<table style="padding-top:0;margin-top:-5px;">
<tr>
<td>
	<div style="padding:3px 1em 3px 3px;background-color:#EEFFFF;">
<button onclick="theAud.showCue()">cue</button>
<button onclick="theAud.forbakward(1);">後退</button>
<button onclick="theAud.forbakward(0);">前進</button>設
<button onclick="theAud.cusTime(0);">終點</button>
<button onclick="theAud.cusTime(1);">起點</button>
	</div>
</td>
<td>
	<div style="padding:3px 5px;background-color:yellow;">
<button id="toggleAux" onclick="toggleAux()" >文</button>
<button id="toggleBR" onclick='toggleBR()'>行</button>
	</div>
</td></tr></table><!--Audio 面板操作區-->


<!-- td1=起播 時分秒, td2=<!--文檔操作區-->
<table><tr>
<td style="padding:3px;background-color:#F8EACE;"><!--td1=起播 時分秒-->
 <table style="border:0pdx;"><tr>
  <td><!--於、長-->
	<button id="toggleStartLen" style="display:none" onclick="toggleStartLen()">於</button>
  </td>
  
  <td><!--起播、時長 時分秒-->
	  <table id="tblPlayStart" style="visibility:visible;visible:0pdx;">
	  <tr><td>
	<input id="palyStartH" type="number" value="0"  min="0" max="5" style="width:1.7em;"></input>時
	<input id="palyStartM" type="number" value="0" min="0" max="59" style="width:2.2em;"></input>分
	<input id="palyStartS" type="number" value="0" min="0" max="59" style="width:2.2em;"></input>秒
	</td></tr></table>
	
	<table id="tblPlayLen" style="visibility:collapse;border:0pdx;">
	<tr><td>
	<input id="playLengthH" type="number" value="0" min="0" max="5" style="width:1.7em;"></input>時
	<input id="playLengthM" type="number" value="0" min="0" max="59" style="width:2.2em;"></input>分
	<input id="playLengthS" type="number" value="0" min="0" max="59" style="width:2.2em;"></input>秒
	</td></tr>	</table>

	</td><!--起播、時長 時分秒-->
	
	<td>
	<button onclick="theAud.cusPlay();">播放</button>
	</td>
 </tr></table><!--起播 時分秒-->
</td><!--起播 時分秒-->


<td><!--文檔操作區-->
	<div style="padding:3px 5px;background-color:yellow;">
		<button onclick="theBook.showPageTocSelect()" >頁</button>
		<button onclick="rstContHandFontSize('-')" style="padding-left:4px;padding-right:4px;">─</button>
		<span id="psCont" style="background-color:white;padding-left:3px;padding-right:3px;border:1px black solid;">96</span>
		<button onclick="rstContHandFontSize('+')">✚</button>
	</div>
</td><!--文檔操作區-->
</tr></table><!--起播 時分秒-->

</div><!-- id="dvAudioLesson"-->



<!--文章顯示區-->
<!--<div id="dvContHand" style="width:100%;position:relative;">
position:absolute; top:0;
 onscroll="theBook.TryScroll(event);"
-->
<div id="content" onscroll="theBook.TryScroll(event);" style="visibility:visible;letter-spacing:1.5pt;overflow-y:scroll;padding:5px;line-height:1.8;width:99%;height:330px; border-width:0 1px 1px 1px;border-style:solid;font-size:96%;"></div>

<div id="dvContHand" style="width:100%;">

<table id="tblShowYin" width="99%" height="310px" border="0" style="visibility:visible;">
<tr><td>

</td></tr></table>

<table id="tblShowAux" width="99%" height="310px" border="0" style="display:none;visibility:collapse;">
<tr><td>
<div id="auxPanel" style="visibility:hidden;letter-spacing:1.5pt;overflow-Y:scroll;padding:5px;line-height:1.4;width:99%;height:300px; border-width:0 1px 1px 1px;border-style:solid;font-size:110%;"></div>
</td></tr></table>
</div>

<dialog id="dlgCue">
<label>法師授課主題時點表</label>
<br/>
<select id="cueList" style="width:16em;">
</select>

<br/>
<br/>
<br/>
<div style="text-align:right;">
	<input type="checkbox" id="bookTo" checked>書本定位</input>　
	<button onclick="theAud.closeCue()">取消</button>
	<button onclick="theAud.cuePointPlay()">播放</button>
</div>
</dialog>

<dialog id="dlgPagToc" style="height:70%;width:90%;">
<button onclick="document.all.dlgPagToc.close()" style="position:absolute;top:1px;left:1px;margin:0;padding:2px;">✖</button>
<br/>
<span>頁次選單</span><br/>
<select style="width:6em;" id="pageList" onchange="theBook.onPageListChange(this)"></select><br/><br/>
<span>目錄選單</span>
<hr/>
<div style="height:21em;width:100%;padding:0;margin:0;padding:0">
<ul id="mnuRoot" class="menutree" onclick="onMenuClicked(event)" style="height:16em;overflow-y:scroll;margin-left:0;margin-top:0;padding-left:20px;padding-top:0"></ul>
</div>

</dialog>
</body>
</html>
